---
title: プレロード及びストリーミング
template: usermanual-page.tmpl.html
---

ウェブ上では、ページをロードした後にできる限り早くアプリケーションを起動することが重要です。ローディングバーを表示して、ユーザを待たせてしまうとアプリケーションが始まる前にユーザが離れてしまう可能性があります。PlayCanvasアセットシステムに実装されている機能を使用すれば、ロードプロセスを合理化し速くアプリケーションを起動することができます。

## プレロード

![アセットプロパティ][1]

プロジェクト内のすべてのアセットには`preload`というプロパティがあります。デフォルトでは、これはtrueに設定されています。アセットがプリロードとしてマークされている場合は、アプリケーションの初期化フェーズが始まる前にダウンロードおよび作成されます。

プリロードを使用してアプリケーションの開始時に必要とする全てのアセットがあることを確認します。これは、アプリケーションが開始した後にアセットが入ってくることを防ぎます。

## ストリーミング

![ストリーミング][2]

シーンのエンティティがアセットを参照している場合、エンティティが有効になるとロード要求が開始されます。シーンでエンティティが有効になっている場合、この要求はアプリケーションが起動すると同時に作られます。

すべてのコンポーネントは動的なアセットのロードを処理して、アセットがロードされると、通常通り動作を開始します。このように動的にアセットをストリーミングする場合、多くの場合、「ポップアップ」が表示されます。素材やテクスチャが無くても、ロードされるとすぐにモデルが表示されます。

## アセットタグ

ロードされると同時にアセットを「ポップアップ」させたくない場合があります。アセットのセットをロードして、それらを表示させることが好ましいです。これを行うには、アセットタグを利用してアセットのグループを作成します。それらを使用する前に、特定のタグを持つすべてのアセットを読み込むことができます。

タグを利用してアセットのセットを読み込む方法を説明するjavascriptの例です。

```javascript
var assets = this.app.assets.findByTag("level-1");
var count = 0;

for (var i = 0; i < assets.length; i++) {
    assets[i].once("load", function () {
        count++;
        if (count === assets.length) {
            // asset loading complete
        }
    });
    this.app.assets.load(assets[i]);
}
```

[1]: /images/user-manual/assets/preloading-and-streaming/asset-properties.jpg
[2]: /images/user-manual/assets/preloading-and-streaming/streaming.gif

